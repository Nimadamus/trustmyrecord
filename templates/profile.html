{% extends "layout.html" %}

{% block title %}{{ user.username }}'s Profile - TrustMyRecord{% endblock %}

{% block content %}
<div class="container page-container">

    <div class="profile-header">
        <div class="profile-main-info">
            <!-- User's Profile Picture would go here -->
            <h1 class="profile-username">{{ user.username }}</h1>

            <!-- Conditionally display their chosen team allegiance -->
            {% if user.favorite_team %}
            <div class="team-allegiance-badge">
                <!-- In the future, we can add team logos -->
                <span>Fan of the <strong>{{ user.favorite_team.name }}</strong></span>
            </div>
            {% endif %}
        </div>

        <!-- The "Edit Profile" button is only shown to the profile owner -->
        {% if current_user.is_authenticated and current_user.id == user.id %}
        <div class="profile-actions">
            <a href="{{ url_for('edit_profile') }}" class="btn btn-primary">Edit Your Profile</a>
        </div>
        {% endif %}
    </div>

    <div class="profile-bio">
        <p>{{ user.bio or 'This user has not written a bio yet.' }}</p>
    </div>

    <hr class="section-divider">

    <!-- THIS IS A PLACEHOLDER FOR PHASE 2 & 3 -->
    <div class="profile-stats-section">
        <h2 class="section-title">Record & Performance</h2>
        <div class="placeholder-box">
            <p>The Immutable Record is coming.</p>
            <p>User stats, leaderboards, and pick history will be displayed here.</p>
        </div>
    </div>

</div>
{% endblock %}
